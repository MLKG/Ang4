<form [formGroup]="formModel" (submit)="onSubmit()">
  <div>用户名：<input type="text" [class.hasError]="formModel.get('username').invalid && formModel.get('username').touched" formControlName="username"></div>
  <div [hidden]="formModel.get('username').valid || formModel.get('username').untouched" style="color: red;">
    <div [hidden]="!formModel.hasError('required', 'username')">
      用户名是必须填写
    </div>
    <div [hidden]="!formModel.get('username').hasError('required')">
      用户名是必须填写
    </div>
    <div [hidden]="!formModel.hasError('minlength', 'username')">
      用户名最小长度是6
    </div>
    <div [hidden]="!formModel.get('username').hasError('minlength')">
      用户名最小长度是6
    </div>
  </div>
  <div>手机号：<input type="number" formControlName="mobile"></div>
  <div [hidden]="formModel.get('mobile').valid || formModel.get('mobile').pristine">
    <div [hidden]="!formModel.hasError('mobile', 'mobile')" style="color: red;">
      请输入了正确的手机号
    </div>
  </div>
  <div [hidden]="!formModel.get('mobile').pending" style="color: red;">
    正在校验手机号码的合法性
  </div>
  <div formGroupName="passwordsGroup">
    <div>密码：<input type="password" formControlName="password"></div>
    <div [hidden]="!formModel.hasError('minlength', ['passwordsGroup', 'password'])" style="color: red;">
      密码最小长度是6
    </div>
    <div [hidden]="!formModel.get('passwordsGroup').get('password').hasError('minlength')" style="color: red;">
      密码最小长度是6
    </div>
    <div>确认密码：<input type="password" formControlName="pconfirm"></div>
    <div [hidden]="!formModel.hasError('equal', 'passwordsGroup')" style="color: red;">
      {{formModel.getError('equal','passwordsGroup')?.desc}}
    </div>
    <div [hidden]="!formModel.get('passwordsGroup').hasError('equal')" style="color: red;">
      {{formModel.getError('equal','passwordsGroup')?.desc}}<br>
      {{formModel.get('passwordsGroup').getError('equal')?.desc}}
    </div>
  </div>
  <button type="submit">注册</button>
</form>
